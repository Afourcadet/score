#pragma once
#include <QObject>
#include <QWidget>
#include <QGraphicsObject>

template<typename QType>
class QNamedType : public QType
{
	public:
		template<typename... Args>
		QNamedType(QType* parent, QString name, Args&&... args):
			QType{std::forward<Args>(args)...}
		{
			QType::setObjectName(name);
			QType::setParent(parent);
		}
};



using QNamedObject = QNamedType<QObject>;
using QNamedGraphicsObject = QNamedType<QGraphicsObject>;
using QNamedWidget = QNamedType<QWidget>;


class QIdentifiedObject : public QNamedObject
{
	public:
		template<typename... Args>
		QIdentifiedObject(QObject* parent, 
						QString name, 
						int id, 
						Args&&... args):
			QNamedObject{parent, 
						 name, 
						 std::forward<Args>(args)...},
			m_id{id}
		{
			
		}
		
		int id() const
		{
			return m_id;
		}
		
	private:
		int m_id{};
};